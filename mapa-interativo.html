<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mapa Interativo de Florian√≥polis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS do Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Fontes do Google -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- √çcones Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #1abc9c;
      --secondary-color: #2980b9;
      --dark-color: #2c3e50;
      --light-color: #ecf0f1;
      --background-color: #f9f9f9;
      --text-color: #333;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Open Sans', sans-serif;
      color: var(--text-color);
      background-color: var(--background-color);
      line-height: 1.6;
    }
    
    header {
      background-color: var(--dark-color);
      color: white;
      padding: 1rem;
      text-align: center;
      box-shadow: var(--shadow);
    }
    
    h1 {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    .menu {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      padding: 15px;
      background-color: var(--dark-color);
      box-shadow: var(--shadow);
    }
    
    .menu a {
      color: var(--light-color);
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 4px;
      transition: all 0.3s ease;
      font-weight: 600;
      white-space: nowrap;
    }
    
    .menu a:hover {
      color: var(--primary-color);
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    #map-container {
      position: relative;
      height: calc(100vh - 120px);
      width: 100%;
    }
    
    #map {
      height: 100%;
      width: 100%;
    }
    
    /* Controles personalizados */
    .map-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .map-controls button {
      background-color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 12px;
      cursor: pointer;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      gap: 5px;
      font-weight: 600;
      transition: all 0.2s ease;
    }
    
    .map-controls button:hover {
      background-color: var(--primary-color);
      color: white;
    }
    
    /* Legenda */
    .legend {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: var(--shadow);
      font-size: 14px;
      line-height: 1.8;
    }
    
    .legend i {
      width: 20px;
      display: inline-block;
      text-align: center;
      margin-right: 8px;
    }
    
    /* Filtros */
    .filter-panel {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      background: white;
      padding: 15px;
      border-radius: 5px;
      box-shadow: var(--shadow);
      max-width: 250px;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .filter-panel h3 {
      margin-bottom: 10px;
      color: var(--dark-color);
      font-size: 16px;
    }
    
    .filter-group {
      margin-bottom: 15px;
    }
    
    .filter-item {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    
    .filter-item input {
      margin-right: 8px;
    }
    
    /* Responsividade */
    @media (max-width: 768px) {
      .menu {
        gap: 5px;
        padding: 10px;
      }
      
      .menu a {
        font-size: 14px;
        padding: 3px 6px;
      }
      
      #map-container {
        height: calc(100vh - 100px);
      }
      
      .filter-panel {
        max-width: 200px;
        padding: 10px;
      }
    }
    
    @media (max-width: 480px) {
      .map-controls {
        flex-direction: row;
        bottom: 10px;
        top: auto;
        right: auto;
        left: 50%;
        transform: translateX(-50%);
      }
      
      .filter-panel {
        max-width: 150px;
        font-size: 12px;
      }
    }
    
    /* Custom icons */
    .custom-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      background-color: white;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    /* Loading indicator */
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1001;
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 5px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top-color: var(--primary-color);
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <header>
    <div class="container">
      <h1>Mapa Interativo de Florian√≥polis</h1>
    </div>
  </header>

  <nav class="menu">
    <a href="https://sustainatrip.tur.br/"><i class="fas fa-home"></i> In√≠cio</a>
    <a href="#"><i class="fas fa-store"></i> Loja</a>
    <a href="https://sustainatrip.tur.br/blog.html"><i class="fas fa-blog"></i> Blog</a>
    <a href="#"><i class="fas fa-info-circle"></i> Quem Somos</a>
    <a href="#"><i class="fas fa-briefcase"></i> Portf√≥lio</a>
    <a href="#"><i class="fas fa-map-marked-alt"></i> Mapa Interativo</a>
  </nav>

  <div id="map-container">
    <div id="map"></div>
    
    <!-- Loading indicator (hidden by default) -->
    <div class="loading" style="display: none;">
      <div class="spinner"></div>
      <p>Carregando dados...</p>
    </div>
    
    <!-- Filtros -->
    <div class="filter-panel">
      <h3><i class="fas fa-filter"></i> Filtrar Categorias</h3>
      
      <div class="filter-group">
        <div class="filter-item">
          <input type="checkbox" id="filter-praias" checked data-category="praias">
          <label for="filter-praias"><i class="fas fa-umbrella-beach"></i> Praias</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-mirantes" checked data-category="mirantes">
          <label for="filter-mirantes"><i class="fas fa-binoculars"></i> Mirantes</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-gastronomia" checked data-category="gastronomia">
          <label for="filter-gastronomia"><i class="fas fa-utensils"></i> Gastronomia</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-turismo" checked data-category="turismo">
          <label for="filter-turismo"><i class="fas fa-bus"></i> Ag√™ncias de Turismo</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-hoteis" checked data-category="hoteis">
          <label for="filter-hoteis"><i class="fas fa-hotel"></i> Hot√©is</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-ecologicos" checked data-category="ecologicos">
          <label for="filter-ecologicos"><i class="fas fa-leaf"></i> Pontos Ecol√≥gicos</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-shoppings" checked data-category="shoppings">
          <label for="filter-shoppings"><i class="fas fa-shopping-bag"></i> Shoppings</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-jardim" checked data-category="jardim">
          <label for="filter-jardim"><i class="fas fa-tree"></i> Jardim Bot√¢nico</label>
        </div>
        <div class="filter-item">
          <input type="checkbox" id="filter-zarpado" checked data-category="zarpado">
          <label for="filter-zarpado"><i class="fas fa-ship"></i> Zarpado/Trapiches</label>
        </div>
      </div>
      
      <button id="reset-filters" class="btn-reset">
        <i class="fas fa-sync-alt"></i> Redefinir Filtros
      </button>
    </div>
    
    <!-- Controles do mapa -->
    <div class="map-controls">
      <button id="locate-me">
        <i class="fas fa-location-arrow"></i> Minha Localiza√ß√£o
      </button>
      <button id="reset-view">
        <i class="fas fa-globe-americas"></i> Visualiza√ß√£o Padr√£o
      </button>
    </div>
  </div>

<!-- Script do Leaflet -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<!-- Biblioteca para geolocaliza√ß√£o -->
<script src="https://unpkg.com/leaflet.locatecontrol@0.76.0/dist/L.Control.Locate.min.js"></script>
<script>
  // Objeto para armazenar todos os marcadores por categoria
  const markers = {
    praias: [],
    mirantes: [],
    gastronomia: [],
    turismo: [],
    hoteis: [],
    ecologicos: [],
    shoppings: [],
    jardim: [],
    zarpado: []
  };

  // Inicializa o mapa centralizando em Florian√≥polis
  const map = L.map('map').setView([-27.59, -48.55], 12);

  // Adiciona a camada base do OpenStreetMap
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  // Adiciona controle de localiza√ß√£o
  L.control.locate({
    position: 'topright',
    strings: {
      title: "Mostrar minha localiza√ß√£o",
      popup: "Voc√™ est√° dentro de {distance} {unit} deste ponto"
    },
    locateOptions: {
      maxZoom: 16,
      enableHighAccuracy: true
    }
  }).addTo(map);

  // Define √≠cones personalizados para cada categoria
  const createCustomIcon = (icon, color = '#2c3e50') => {
    return L.divIcon({
      className: 'custom-icon',
      html: icon,
      iconSize: [30, 30],
      iconAnchor: [15, 15],
      popupAnchor: [0, -15]
    });
  };

  const icons = {
    praias: createCustomIcon('üèñÔ∏è'),
    mirantes: createCustomIcon('üì∑', '#3498db'),
    gastronomia: createCustomIcon('üç¥', '#e74c3c'),
    turismo: createCustomIcon('üöå', '#9b59b6'),
    hoteis: createCustomIcon('üè®', '#f39c12'),
    ecologicos: createCustomIcon('üåø', '#27ae60'),
    shoppings: createCustomIcon('üõçÔ∏è', '#e67e22'),
    jardim: createCustomIcon('üå≥', '#16a085'),
    zarpado: createCustomIcon('‚õµ', '#2980b9')
  };

  // Fun√ß√£o para adicionar marcadores ao mapa
  const addMarkers = (data, category) => {
    data.forEach(point => {
      const marker = L.marker([point.lat, point.lon], { 
        icon: icons[category],
        category: category
      }).addTo(map);
      
      marker.bindPopup(`
        <div class="popup-content">
          <h3>${point.name}</h3>
          <p>${point.info}</p>
          ${point.image ? `<img src="${point.image}" alt="${point.name}" style="max-width:100%; margin-top:10px;">` : ''}
          ${point.link ? `<a href="${point.link}" target="_blank" style="display:block; margin-top:5px;">Mais informa√ß√µes</a>` : ''}
        </div>
      `);
      
      markers[category].push(marker);
    });
  };

  // Fun√ß√£o para mostrar/ocultar marcadores por categoria
  const filterMarkers = () => {
    const checkboxes = document.querySelectorAll('.filter-panel input[type="checkbox"]');
    
    checkboxes.forEach(checkbox => {
      const category = checkbox.dataset.category;
      const isChecked = checkbox.checked;
      
      markers[category].forEach(marker => {
        if (isChecked) {
          map.addLayer(marker);
        } else {
          map.removeLayer(marker);
        }
      });
    });
  };

  // Mostrar loading indicator
  const showLoading = () => {
    document.querySelector('.loading').style.display = 'flex';
  };

  // Ocultar loading indicator
  const hideLoading = () => {
    document.querySelector('.loading').style.display = 'none';
  };

  // Carregar dados (simulando requisi√ß√£o ass√≠ncrona)
  const loadData = () => {
    showLoading();
    
    // Simulando carregamento ass√≠ncrono
    setTimeout(() => {
      // 1. PRAIAS (42 pontos)
      const praias = [
        { name: "Praia Mole", lat: -27.602559, lon: -48.432867, info: "Uma das praias mais famosas de Florian√≥polis, conhecida por suas ondas fortes e paisagem deslumbrante." },
        { name: "Praia da Joaquina", lat: -27.628923, lon: -48.448259, info: "Famosa pelo surf e pelas dunas de areia, onde se pratica sandboard." },
        { name: "Praia do Campeche", lat: -27.689639, lon: -48.481612, info: "Praia extensa com √°guas claras e vista para a Ilha do Campeche." },
        { name: "Praia dos Ingleses", lat: -27.437653, lon: -48.388743, info: "Praia muito procurada por turistas, com infraestrutura completa de lazer." },
        { name: "Praia de Canasvieiras", lat: -27.427016, lon: -48.458508, info: "Praia de √°guas calmas, ideal para fam√≠lias com crian√ßas." },
        { name: "Praia Brava", lat: -27.403135, lon: -48.412389, info: "Praia selvagem com ondas fortes, cercada por morros e vegeta√ß√£o nativa." },
        { name: "Praia da Lagoinha", lat: -27.389066, lon: -48.421550, info: "Pequena praia entre cost√µes rochosos, de beleza preservada." },
        { name: "Praia do Santinho", lat: -27.462179, lon: -48.376094, info: "Praia com inscri√ß√µes rupestres e √≥timas ondas para surf." },
        { name: "Ponta das Canas", lat: -27.395530, lon: -48.433554, info: "Praia tranquila com √°guas calmas, ideal para banho." },
        { name: "Praia da Daniela", lat: -27.452404, lon: -48.541421, info: "Praia de mar calmo, separada do continente por um estreito canal." },
        { name: "Praia do Forte", lat: -27.432179, lon: -48.519029, info: "Praia com o Forte de S√£o Jos√© da Ponta Grossa, constru√ß√£o hist√≥rica do s√©culo XVIII." },
        { name: "Praia de Jurer√™", lat: -27.438059, lon: -48.485940, info: "Praia badalada com mar calmo e infraestrutura sofisticada." },
        { name: "Jurer√™ Internacional", lat: -27.436670, lon: -48.501626, info: "Um dos bairros mais luxuosos de Florian√≥polis, com praia exclusiva." },
        { name: "Barra da Lagoa", lat: -27.573902, lon: -48.423685, info: "Vila de pescadores com praia de ondas moderadas e piscinas naturais." },
        { name: "Praia do Matadeiro", lat: -27.752905, lon: -48.498637, info: "Praia preservada com √°guas cristalinas, ideal para mergulho." },
        { name: "Praia da Arma√ß√£o", lat: -27.747946, lon: -48.504831, info: "Praia hist√≥rica onde funcionava uma arma√ß√£o baleeira no s√©culo XVIII." },
        { name: "P√¢ntano do Sul", lat: -27.781641, lon: -48.509533, info: "Vila de pescadores com praia preservada e restaurantes de frutos do mar." },
        { name: "Praia da Solid√£o", lat: -27.794297, lon: -48.533642, info: "Praia isolada e selvagem, de acesso por trilha." },
        { name: "Praia dos A√ßores", lat: -27.784070, lon: -48.523250, info: "Praia com piscinas naturais formadas entre as rochas." },
        { name: "Praia do Saquinho", lat: -27.830025, lon: -48.545977, info: "Pequena praia entre cost√µes, de acesso por trilha." },
        { name: "Lagoinha do Leste", lat: -27.773881, lon: -48.486503, info: "Considerada uma das praias mais bonitas do Brasil, acesso apenas por trilha." },
        { name: "Morro das Pedras", lat: -27.707145, lon: -48.497753, info: "Praia com mar aberto e ondas fortes, muito procurada por surfistas." },
        { name: "Praia do Gravat√°", lat: -27.613213, lon: -48.433584, info: "Pequena praia entre cost√µes, de √°guas cristalinas." },
        { name: "Praia da Galheta", lat: -27.592205, lon: -48.424882, info: "Praia de naturismo, cercada por vegeta√ß√£o nativa." },
        { name: "Naufragados", lat: -27.834222, lon: -48.563079, info: "Praia isolada no extremo sul da ilha, com ru√≠nas hist√≥ricas." }
      ];
      addMarkers(praias, 'praias');

      // 2. MIRANTES
      const mirantes = [
        { name: "Mirante da Lagoa da Concei√ß√£o", lat: -27.595, lon: -48.468, info: "Vista panor√¢mica da lagoa e do mar." },
        { name: "Mirante do Morro da Cruz", lat: -27.629, lon: -48.571, info: "Excelente para fotos da cidade e do p√¥r do sol." },
        { name: "Mirante do Morro das Pedras", lat: -27.640, lon: -48.520, info: "Ponto ideal para apreciar o p√¥r do sol." },
        { name: "Mirante da Praia Mole", lat: -27.650, lon: -48.500, info: "Vista privilegiada da Praia Mole e arredores." },
        { name: "Mirante da Barra da Lagoa", lat: -27.575, lon: -48.430, info: "Vista para a barra e o mar aberto." }
      ];
      addMarkers(mirantes, 'mirantes');

      // 3. ROTEIROS GASTRON√îMICOS / RESTAURANTES
      const restaurantes = [
        { name: "Mercado P√∫blico de Florian√≥polis", lat: -27.595, lon: -48.543, info: "Variedade de gastronomia local em um mercado hist√≥rico." },
        { name: "Restaurante Ostradamus", lat: -27.650, lon: -48.520, info: "Especialidade em frutos do mar e culin√°ria contempor√¢nea." },
        { name: "Bar do Arante", lat: -27.680, lon: -48.530, info: "Ambiente descontra√≠do com comida t√≠pica a√ßoriana." },
        { name: "Restaurante Bokas", lat: -27.590, lon: -48.560, info: "Culin√°ria contempor√¢nea com ingredientes locais." },
        { name: "Caf√© Cultura", lat: -27.600, lon: -48.550, info: "Caf√© e petiscos em ambiente art√≠stico e cultural." },
        { name: "Rancho A√ßoriano", lat: -27.585, lon: -48.540, info: "Culin√°ria tradicional a√ßoriana em ambiente r√∫stico." },
        { name: "Restaurante Osteria degli Specchi", lat: -27.595, lon: -48.545, info: "Cozinha italiana aut√™ntica no centro da cidade." },
        { name: "Box 32", lat: -27.595, lon: -48.543, info: "Bar e restaurante no Mercado P√∫blico, famoso pelos past√©is de camar√£o." }
      ];
      addMarkers(restaurantes, 'gastronomia');

      // 4. AG√äNCIAS DE TURISMO
      const agencias = [
        { name: "Ag√™ncia Turismo Floripa", lat: -27.610, lon: -48.560, info: "Pacotes tur√≠sticos e city tours pela ilha." },
        { name: "Viaje Floripa", lat: -27.620, lon: -48.580, info: "Tours guiados pela cidade e trilhas ecol√≥gicas." },
        { name: "Floripa Tours", lat: -27.605, lon: -48.570, info: "Roteiros personalizados para todos os tipos de viajantes." },
        { name: "Ilha Tour", lat: -27.615, lon: -48.575, info: "Passeios de barco e excurs√µes pela ilha." }
      ];
      addMarkers(agencias, 'turismo');

      // 5. HOT√âIS
      const hoteis = [
        { name: "LK Design Hotel", lat: -27.5918, lon: -48.5435, info: "Hotel 5 estrelas com design moderno e rooftop com vista para o mar." },
        { name: "Hotel Boutique Quinta das Videiras", lat: -27.5961, lon: -48.4565, info: "Hotel boutique charmoso na Lagoa da Concei√ß√£o, estilo colonial portugu√™s." },
        { name: "Cost√£o do Santinho Resort", lat: -27.4322, lon: -48.3792, info: "Resort all inclusive √† beira-mar na Praia do Santinho, ideal para fam√≠lias." },
        { name: "Haute Haus", lat: -27.5969, lon: -48.4538, info: "Hotel boutique com su√≠tes exclusivas e vista para a Lagoa da Concei√ß√£o." },
        { name: "Majestic Palace Hotel", lat: -27.5916, lon: -48.5462, info: "Hotel 5 estrelas no centro, com vista para a Ba√≠a Norte e piscina no terra√ßo." }
      ];
      addMarkers(hoteis, 'hoteis');

      // 6. PONTOS ECOL√ìGICOS
      const ecologicos = [
        { name: "Trilha da Lagoinha do Leste", lat: -27.7780, lon: -48.5080, info: "Trilha desafiadora que leva a uma praia isolada e selvagem." },
        { name: "Trilha da Costa da Lagoa", lat: -27.5840, lon: -48.4810, info: "Caminhada encantadora ao longo da Lagoa da Concei√ß√£o, passando por comunidades e cachoeiras." },
        { name: "Trilha da Praia dos Naufragados", lat: -27.7980, lon: -48.5610, info: "Trilha curta at√© uma praia hist√≥rica com ru√≠nas de fortifica√ß√µes." },
        { name: "Trilha da Galheta", lat: -27.5910, lon: -48.4230, info: "Acesso √† Praia da Galheta, conhecida por sua beleza natural e pr√°tica de naturismo." },
        { name: "Projeto Tamar", lat: -27.5900, lon: -48.4300, info: "Centro de conserva√ß√£o das tartarugas marinhas com atividades educativas." },
        { name: "Parque Estadual do Rio Vermelho", lat: -27.5800, lon: -48.4200, info: "Unidade de conserva√ß√£o com trilhas e viveiros de animais silvestres." },
        { name: "Dunas da Joaquina", lat: -27.6200, lon: -48.4500, info: "Extensa √°rea de dunas, popular para sandboard e caminhadas." }
      ];
      addMarkers(ecologicos, 'ecologicos');

      // 7. SHOPS ‚Äì Shoppings
      const shoppings = [
        { name: "Shopping Beira Mar", lat: -27.620, lon: -48.560, info: "Diversas lojas e entretenimento no centro da cidade." },
        { name: "Floripa Shopping", lat: -27.605, lon: -48.580, info: "Amplo mix de lojas, cinema e pra√ßa de alimenta√ß√£o." },
        { name: "Villa Romana Shopping", lat: -27.615, lon: -48.590, info: "Centro de compras sofisticado com marcas premium." },
        { name: "Itagua√ßu Shopping", lat: -27.600, lon: -48.600, info: "Op√ß√µes de lazer e compras no continente." },
        { name: "Continente Shopping", lat: -27.610, lon: -48.570, info: "Variedade de lojas e servi√ßos em um ambiente moderno." }
      ];
      addMarkers(shoppings, 'shoppings');

      // 8. JARDIM BOT√ÇNICO
      const jardimBotanico = [
        { name: "Jardim Bot√¢nico de Florian√≥polis", lat: -27.630, lon: -48.590, info: "Espa√ßo de preserva√ß√£o e educa√ß√£o ambiental com trilhas e cole√ß√µes de plantas." }
      ];
      addMarkers(jardimBotanico, 'jardim');

      // 9. ZARPADO / TRAPICHES
      const zarpados = [
        { name: "Ponto de Embarque Trapiche 1", lat: -27.595, lon: -48.540, info: "Sa√≠das para a Ilha Campeche e passeios pela ba√≠a." },
        { name: "Ponto de Embarque Trapiche 2", lat: -27.585, lon: -48.555, info: "Passeios de lancha e bote tur√≠sticos pela costa." },
        { name: "P√≠er da Barra da Lagoa", lat: -27.575, lon: -48.430, info: "Sa√≠das para passeios de barco pela Lagoa e costa leste." }
      ];
      addMarkers(zarpados, 'zarpado');

      // Adiciona legenda ao mapa
      const legend = L.control({position: 'bottomright'});
      legend.onAdd = function(map) {
        const div = L.DomUtil.create('div', 'legend');
        div.innerHTML = `
          <h4><i class="fas fa-map-marked-alt"></i> Legenda</h4>
          <div><i>üèñÔ∏è</i> Praias</div>
          <div><i>üì∑</i> Mirantes</div>
          <div><i>üç¥</i> Restaurantes</div>
          <div><i>üöå</i> Ag√™ncias de Turismo</div>
          <div><i>üè®</i> Hot√©is</div>
          <div><i>üåø</i> Pontos Ecol√≥gicos</div>
          <div><i>üõçÔ∏è</i> Shoppings</div>
          <div><i>üå≥</i> Jardim Bot√¢nico</div>
          <div><i>‚õµ</i> Zarpado/Trapiches</div>
        `;
        return div;
      };
      legend.addTo(map);

      // Configura eventos dos controles
      document.getElementById('reset-view').addEventListener('click', () => {
        map.setView([-27.59, -48.55], 12);
      });

      document.getElementById('locate-me').addEventListener('click', () => {
        map.locate({setView: true, maxZoom: 14});
      });

      document.getElementById('reset-filters').addEventListener('click', () => {
        const checkboxes = document.querySelectorAll('.filter-panel input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
          checkbox.checked = true;
        });
        filterMarkers();
      });

      // Configura eventos dos filtros
      document.querySelectorAll('.filter-panel input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', filterMarkers);
      });

      hideLoading();
    }, 1000); // Simula um tempo de carregamento
  };

  // Inicia o carregamento dos dados quando o DOM estiver pronto
  document.addEventListener('DOMContentLoaded', loadData);
</script>
</body>
</html>
